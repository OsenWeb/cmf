{{ form_start(form) }}
    <div id="left">
        
    </div>
    
    <div id="right">
        <div class="error">
            {{ form_errors(form) }}
        </div>

        <div class="form-buttons">
            {#% if post.slug %}
                <a class="btn btn-primary icon-share before-padding" href="{{ path('post', {'slug': post.slug}) }}" target="_blank" title="Просмотреть на сайте">Просмотр</a>
            {% endif %#}
            {{ form_widget(form.save, {'attr': {'class': 'btn btn-primary icon-save before-padding', 'title': 'Сохранить и остаться в режиме редактирования'}, 'label': 'Сохранить'}) }}
            {{ form_widget(form.saveAndClose, {'attr': {'class': 'btn btn-primary icon-save before-padding', 'title': 'Сохранить и выйти из режима редактирования'}, 'label': 'Сохранить и закрыть'}) }}
            {% if form.delete is defined %}
                {{ form_widget(form.delete, {'attr': {'class': 'btn btn-default icon-remove before-padding', 'title': 'Удалить запись', 'onclick': "return confirm('Удалить запись из БД?')"}, 'label': 'Удалить'}) }}
            {% endif %}
            <a class="btn btn-default icon-ban-circle before-padding" href="{{ path('admin_posts') }}" title="Отменить несохраненные изменения">Закрыть</a>
        </div>

        <div>
            {{ form_label(form.published, 'Опубиковано: ', {'label_attr': {'class': ''} }) }}
            {{ form_widget(form.published, {'attr': {'class': ''} }) }}
            <div class="error">
                {{ form_errors(form.published) }}
            </div>
        </div>
            
        <div>
            {{ form_label(form.home, 'Главная страница: ', {'label_attr': {'class': ''} }) }}
            {{ form_widget(form.home, {'attr': {'class': ''} }) }}
            <div class="error">
                {{ form_errors(form.home) }}
            </div>
        </div>
            
        <div>
            {{ form_label(form.lang, 'Язык: ', {'label_attr': {'class': ''} }) }}
            {{ form_widget(form.lang, {'attr': {'class': 'form-control'} }) }}
            <div class="error">
                {{ form_errors(form.lang) }}
            </div>
        </div>

        <div>
            {{ form_label(form.category, 'Категория: ', {'label_attr': {'class': ''} }) }}
            {{ form_widget(form.category, {'attr': {'class': 'form-control'} }) }}
            <div class="error">
                {{ form_errors(form.category) }}
            </div>
        </div>
        
        <div>
            {{ form_label(form.heading, 'Заголовок: ', {'label_attr': {'class': ''} }) }}
            {{ form_widget(form.heading, {'attr': {'class': 'form-control '} }) }}
            <div class="error">
                {{ form_errors(form.heading) }}
            </div>
        </div>

        <div>
            {{ form_label(form.shortDescription, 'Короткое описание :', {'label_attr': {'class': ''} }) }}
            {{ form_widget(form.shortDescription, {'attr': {'class': 'form-control '} }) }}
            <div class="error">
                {{ form_errors(form.shortDescription) }}
            </div>
        </div>

        <div>
            {{ form_label(form.content, 'Текст статьи: ', {'label_attr': {'class': ''} }) }}
            {{ form_widget(form.content, {'attr': {'class': 'form-control '} }) }}
            <div class="error">
                {{ form_errors(form.content) }}
            </div>
        </div>

        <div>
            {{ form_label(form.created, 'Дата создания: ', {'label_attr': {'class': ''} }) }}
            {{ form_widget(form.created, {'attr': {'class': ' '} }) }}
            <div class="error">
                {{ form_errors(form.created) }}
            </div>
        </div>

        <div>
            <div>
                {% if post.image %}
                    <img src="{{ asset(post.image.webPath) }}" alt=""/>
                {% endif %}
            </div>
            {{ form_row(form.image) }}
        </div>

        <h2>Meta теги:</h2>

        <div>
            {{ form_label(form.slug, 'Slug: ', {'label_attr': {'class': ''} }) }}
            {{ form_widget(form.slug, {'attr': {'class': 'form-control '} }) }}
            <div class="error">
                {{ form_errors(form.slug) }}
            </div>
        </div>

        <div>
            {{ form_label(form.title, 'Title: ', {'label_attr': {'class': ''} }) }}
            {{ form_widget(form.title, {'attr': {'class': 'form-control '} }) }}
            <div class="error">
                {{ form_errors(form.title) }}
            </div>
        </div>

        <div>
            {{ form_label(form.metaDescription, 'Description: ', {'label_attr': {'class': ''} }) }}
            {{ form_widget(form.metaDescription, {'attr': {'class': 'form-control '} }) }}
            <div class="error">
                {{ form_errors(form.metaDescription) }}
            </div>
        </div>
        
        <h2>Настраиваемые поля</h2>
        {#
        <div>
            {% set separators = [] %}
            {% set offset = 0 %}
            {% for name, choice in form.customFieldProperties.vars.choices %}
                {% set separators = separators|merge({('index_' ~ offset): name}) %}
                {% set offset = offset + choice|length %}
            {% endfor %}
            
            {{ form_label(form.customFieldProperties, 'Настраиваемые поля: ', {'label_attr': {'class': ''} }) }}
            <ul>
                {% for property in form.customFieldProperties %}
                    {% if separators['index_' ~ loop.index0] is defined %}
                        <li class="separator">{{ separators['index_' ~ loop.index0] }}</li>
                    {% endif %}
                    <li>{{ form_widget(property) }} - {{ form_label(property) }}</li>
                {% endfor %}
            </ul>
            <div class="error">
                {{ form_errors(form.customFieldProperties) }}
            </div>
        </div>
        #}
        {#
        <div>
            {{ form_label(form.customFields, 'Настраиваемые поля: ', {'label_attr': {'class': ''} }) }}
            <ul>
                {% for field in form.customFields %}
                    <li>{{ form_widget(field) }} - {{ form_label(field) }}</li>
                {% endfor %}
            </ul>
            <div class="error">
                {{ form_errors(form.customFields) }}
            </div>
        </div>
        #}
    </div>
{{ form_end(form) }}